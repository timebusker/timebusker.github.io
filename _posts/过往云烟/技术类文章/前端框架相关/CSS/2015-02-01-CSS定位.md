---
layout:     post
title:      CSS定位
date:       2014-01-21
author:     timebusker
header-img: img/home-bg.jpg
catalog: true
tags:
    - CSS
---

> CSS 定位 (Positioning) 属性允许你对元素进行定位。
> 相对定位是“相对于”元素在文档中的初始位置
> 绝对定位是“相对于”最近的已定位祖先元素，如果不存在已定位的祖先元素，那么“相对于”最初的包含块。

#### CSS 定位和浮动
定位的基本思想很简单，它允许你定义元素框相对于其正常位置应该出现的位置，或者相对于父元素、另一个元素甚至浏览器窗口本身的位置。

##### 一切皆为框
div、h1 或 p 元素常常被称为块级元素。这意味着这些元素显示为一块内容，即“块框”。与之相反，span 和 strong 等元素称为“行内元素”，这是因为它们的内容显示在行中，即“行内框”。

使用`display 属性`改变生成的框的类型。这意味着，通过将 display 属性设置为 block，可以让行内元素（比如 <a> 元素）表现得像块级元素一样。还可以通过把 display 设置为 none，让生成的元素根本没有框。

##### CSS 定位机制
CSS 有三种基本的定位机制：`普通流、浮动和绝对定位`。除非专门指定，否则所有框都在普通流中定位。也就是说，普通流中的元素的位置由元素在 (X)HTML 中的位置决定。

块级框从上到下一个接一个地排列，框之间的垂直距离是由框的垂直外边距计算出来。

行内框在一行中水平布置。可以使用水平内边距、边框和外边距调整它们的间距。但是，垂直内边距、边框和外边距不影响行内框的高度。由一行形成的水平框称为行框（Line Box），行框的高度总是足以容纳它包含的所有行内框。

##### CSS position 属性
通过使用`position`属性，我们可以选择 4 种不同类型的定位，这会影响元素框生成的方式。

**position 属性值的含义：**   

- static 
元素框正常生成。块级元素生成一个矩形框，作为文档流的一部分，行内元素则会创建一个或多个行框，置于其父元素中。 
- relative 
元素框偏移某个距离。元素仍保持其未定位前的形状，它原本所占的空间仍保留。 
- absolute 
元素框从文档流完全删除，并相对于其包含块定位。包含块可能是文档中的另一个元素或者是初始包含块。元素原先在正常文档流中所占的空间会关闭，就好像元素原来不存在一样。元素定位后生成一个块级框，而不论原来它在正常流中生成何种类型的框。 
- fixed 
元素框的表现类似于将 position 设置为 absolute，不过其包含块是视窗本身。 

`提示：相对定位实际上被看作普通流定位模型的一部分，因为元素的位置相对于它在普通流中的位置。`

##### CSS 定位属性
- `position`把元素放置到一个静态的、相对的、绝对的、或固定的位置中。 
- `top`定义了一个定位元素的上外边距边界与其包含块上边界之间的偏移。 
- `right`定义了定位元素右外边距边界与其包含块右边界之间的偏移。 
- `bottom`定义了定位元素下外边距边界与其包含块下边界之间的偏移。 
- `left`定义了定位元素左外边距边界与其包含块左边界之间的偏移。 
- `overflow`设置当元素的内容溢出其区域时发生的事情。默认值是`visible`,`hidden`将隐藏滚动条，`scroll`显示滚动条。 
- `clip`设置元素的形状。元素被剪入这个形状之中，然后显示出来。`clip:rect(0px 50px 200px 0px)` 
- `vertical-align`设置元素的垂直对齐方式。 
- `z-index`设置元素的堆叠顺序。 

#### CSS 相对定位
设置为相对定位的元素框会偏移某个距离。元素仍然保持其未定位前的形状，它原本所占的空间仍保留，相对当前位置进行移动(`相对位置：相对的是正常位置`)。

相对定位是一个非常容易掌握的概念。如果对一个元素进行相对定位，它将出现在它所在的位置上。然后，可以通过设置垂直或水平位置，让这个元素“相对于”它的起点进行移动。

如果将 top 设置为 20px，那么框将在原位置顶部下面 20 像素的地方。如果 left 设置为 30 像素，那么会在元素左边创建 30 像素的空间，也就是将元素向右移动。

```
#box_relative {
  position: relative;
  left: 30px;
  top: 20px;
}
```   

![image](img/older/css/5.png) 

#### CSS 绝对定位
设置为绝对定位的元素框从文档流完全删除，并相对于其包含块定位，包含块可能是文档中的另一个元素或者是初始包含块。
元素原先在正常文档流中所占的空间会关闭，就好像该元素原来不存在一样。元素定位后生成一个块级框，而不论原来它在正常流中生成何种类型的框。

`绝对定位使元素的位置与文档流无关，因此不占据空间`。这一点与相对定位不同，相对定位实际上被看作普通流定位模型的一部分，因为元素的位置相对于它在普通流中的位置。

普通流中其它元素的布局就像绝对定位的元素不存在一样：

```
#box_relative {
  position: absolute;
  left: 30px;
  top: 20px;
}
```   

![image](img/older/css/6.png) 

绝对定位的元素的位置相对于`最近的已定位祖先元素`，如果元素没有已定位的祖先元素，那么它的位置相对于`最初的包含块`。
根据用户代理的不同，最初的包含块可能是画布或 HTML 元素。

因为绝对定位的框与文档流无关，所以它们可以覆盖页面上的其它元素。可以通过设置`z-index`属性来控制这些框的堆放次序。

#### CSS 浮动定位
请看下图，当把框 1 向右浮动时，它脱离文档流并且向右移动，直到它的右边缘碰到包含框的右边缘：   

![image](img/older/css/7.png) 

当框 1 向左浮动时，它脱离文档流并且向左移动，直到它的左边缘碰到包含框的左边缘。因为它不再处于文档流中，所以它不占据空间，实际上覆盖住了框 2，使框 2 从视图中消失。

如果把所有三个框都向左移动，那么框 1 向左浮动直到碰到包含框，另外两个框向左浮动直到碰到前一个浮动框。

![image](img/older/css/8.png) 

如下图所示，如果包含框太窄，无法容纳水平排列的三个浮动元素，那么其它浮动块向下移动，直到有足够的空间。如果浮动元素的高度不同，那么当它们向下移动时可能被其它浮动元素“卡住”：

![image](img/older/css/9.png) 

- CSS float 属性
`float`属性定义元素在哪个方向浮动。任何元素都可以浮动，浮动元素会生成一个块级框，而不论它本身是何种元素。
如果浮动非替换元素，则要指定一个明确的宽度；否则，它们会尽可能地窄。

> left:元素向左浮动。       
> right:元素向右浮动。         
> none:默认值。元素不浮动，并会显示在其在文本中出现的位置。         
> inherit:规定应该从父元素继承 float 属性的值。            

- 行框和清理
浮动框旁边的行框被缩短，从而给浮动框留出空间，行框围绕浮动框。因此，创建浮动框可以使文本围绕图像：
![image](img/older/css/10.png) 

要想阻止行框围绕浮动框，需要对该框应用`clear`属性。`clear`属性的值可以是`left、right、both 或 none`，它表示框的哪些边不应该挨着浮动框。

为了实现这种效果，在被清理的元素的上外边距上添加足够的空间，使元素的顶边缘垂直下降到浮动框下面：

![image](img/older/css/a.png)










